<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <link
            rel="icon"
            href="{{ url_for('static', filename='assets/favicon.ico') }}"
        />
        <title>John Ombuya's Portfolio</title>

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Afacad:ital,wght@0,400..700;1,400..700&family=DM+Sans:ital,opsz@1,9..40&family=Montserrat&display=swap"
            rel="stylesheet"
        />

        <!-- Font Awesome -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />

        <!-- Custom CSS Styles -->
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/styles.css') }}"
        />

        <!-- Swiper CSS and JS Files -->
        <link
            href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
            rel="stylesheet"
        />
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

        <!-- TailwindCSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Custom JavaScript -->
        <script
            defer
            src="{{ url_for('static', filename='js/script.js') }}"
        ></script>

        <script>
            // On page load or when changing themes, it's best to add inline in `head` to avoid FOUC (Flash of Unstyled Content)
            if (
                localStorage.getItem('theme') === 'dark' || // Check if dark theme is stored in localStorage
                (!('theme' in localStorage) &&
                    window.matchMedia('(prefers-color-scheme: dark)').matches) // Check system preference if no theme is stored
            ) {
                document.documentElement.classList.add('dark'); // Apply dark theme if condition is met
            } else {
                document.documentElement.classList.remove('dark'); // Apply light theme if condition is not met
            }
        </script>
    </head>

    <body>
        <div class="main-content min-h-screen">
            <div
                class="bg-background text-foreground transition-colors duration-300 dark:bg-gray-800 dark:text-white"
            >
                <!-- Header start -->
                {% include "header.html" %}
                <!-- Header end -->

                <div class="container mx-auto px-4 pt-24">
                    <!-- Intro start -->
                    <!-- Background image -->
                    <div
                        class="bg-cover bg-center bg-[url('../static/assets/footer-background.jpg')]"
                    >
                        {% include "introduction.html" %}
                    </div>
                    <!-- Intro end -->

                    <!-- About me start -->
                    {% include "about.html" %}
                    <!-- About me end -->

                    <!-- Skills & Interests start -->
                    {% include "skills.html" %}
                    <!-- Skills & Interests end -->

                    <!-- Portfolio start -->
                    {% include "portfolio.html" %}
                    <!-- Portfolio end -->
                </div>
            </div>
            <!-- Footer start -->
            {% include "footer.html" %}
            <!-- Footer end -->
        </div>
    </body>
</html>
